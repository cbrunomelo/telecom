<div class="container mt-4">
  <h2>Operadoras</h2>
  <button class="btn btn-primary mb-3" routerLink="novo">Nova Operadora</button>
  
  <div class="row mb-4">
    <div class="col-md-6">
      <app-card
        title="Total de Operadoras"
        [value]="getTotalOperadoras()"
        icon="business"
        color="primary"
      ></app-card>
    </div>
    <div class="col-md-6">
      <app-card
        title="Total de Itens"
        [value]="totalItems"
        icon="settings_input_antenna"
        color="info"
      ></app-card>
    </div>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Tipo de Serviço</th>
        <th>Contato Suporte</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let operadora of operadoras; trackBy: trackByOperadoraId">
        <td>{{ operadora.nome }}</td>
        <td>{{ getTipoServicoTexto(operadora.eTipoServicoOperadora) }}</td>
        <td>{{ operadora.contatoSuporte }}</td>
        <td>
          <button class="btn btn-sm btn-info me-2" [routerLink]="['editar', operadora.id]">
            Editar
          </button>
          <button class="btn btn-sm btn-danger" (click)="confirmarExclusao(operadora)">
            Excluir
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Mensagem quando não há operadoras -->
  <div *ngIf="operadoras.length === 0" class="text-center mt-4">
    <p class="text-muted">Nenhuma operadora encontrada.</p>
  </div>

  <mat-paginator
    [length]="totalItems"
    [pageSize]="pageSize"
    [pageSizeOptions]="pageSizeOptions"
    [pageIndex]="currentPage - 1"
    (page)="onPageChange($event)"
    aria-label="Selecione a página"
    class="mat-elevation-z1">
  </mat-paginator>
</div> 
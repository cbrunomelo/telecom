<div class="container mt-4">
  <h2>{{ isEditing ? 'Editar' : 'Nova' }} Operadora</h2>

  
  <app-validation-errors 
    *ngIf="validationErrors.length > 0"
    [errors]="validationErrors"
    [title]="'Erros de Validação'"
    [showIcon]="true"
    class="mb-3">
  </app-validation-errors>

  <form [formGroup]="operadoraForm" (ngSubmit)="onSubmit()" class="mt-4">
    <div class="row">
      <div class="col-md-6">
        <app-text-input
          [formControl]="$any(operadoraForm.controls.nome)"
          label="Nome da Operadora"
          placeholder="Digite o nome da operadora"
          [errorMessage]="operadoraForm.controls.nome.errors?.['required'] && operadoraForm.controls.nome.touched ? 'Nome é obrigatório' : ''"
          icon="building"
        ></app-text-input>
      </div>

      <div class="col-md-6">
        <app-select-input
          [formControl]="$any(operadoraForm.controls.eTipoServicoOperadora)"
          label="Tipo de Serviço"
          placeholder="Selecione o tipo de serviço"
          [options]="tipoServicoOptions"
          [errorMessage]="operadoraForm.controls.eTipoServicoOperadora.errors?.['required'] && operadoraForm.controls.eTipoServicoOperadora.touched ? 'Tipo de serviço é obrigatório' : ''"
          icon="cogs"
        ></app-select-input>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-6">
        <app-phone-input
          [formControl]="$any(operadoraForm.controls.contatoSuporte)"
          label="Contato Suporte"
          placeholder="(00) 0000-0000"
          [errorMessage]="operadoraForm.controls.contatoSuporte.errors?.['required'] && operadoraForm.controls.contatoSuporte.touched ? 'Contato é obrigatório' : ''"
          icon="phone"
        ></app-phone-input>
      </div>
    </div>

    <div class="mt-4">
      <button type="submit" class="btn btn-primary me-2" [disabled]="operadoraForm.invalid">
        {{ isEditing ? 'Atualizar' : 'Criar' }} Operadora
      </button>
      <button type="button" class="btn btn-secondary" routerLink="/operadoras">
        Cancelar
      </button>
    </div>
  </form>
</div> 